<!-- <h2 class="top">
  Account Settings
</h2> -->
<mat-tab-group>
  
<div class="entire-page">
  <!-- logo -->
  <mat-tab label="Password">
    <ng-template mat-tab-label>
      <mat-icon><span class="material-icons-two-tone">
        lock
        </span></mat-icon>
      <div>Reset Password</div>
    </ng-template>
  <!-- middle -->
  <div class="middle">
    <div class="resetTitle">

    <!-- Text -->
    
    <div class="plain-text">
      <i class="fas fa-sync"></i>
      <div class="text">Enter your student email to reset your password</div>
      <!-- <div class="deletetext">
      Reset Password 
    </div> -->
    </div>
    
  </div>
    <!-- Email input -->
    <form  [formGroup]="emailForm" >
      <div class="email">
        <mat-card class="cardStyle">
          <mat-card-content>
        <mat-form-field class="textTyping">
          <mat-label *ngIf="(emailMatches === false)"> 
            <i matSuffix class="fas fa-user"></i>
               Academic Email</mat-label>
                <!-- Verified email -->
                <mat-label  *ngIf="(emailMatches === true)"> 
                  <i matSuffix class="fas fa-user check_"></i>
                     Academic Email</mat-label>
          <input matInput type="email" 
          (keyup)="doesEmailExist($event)" placeholder="Academic email" [formControl]="email" required />
          <!-- <mat-error >Only U Of T emails are valid</mat-error> -->
          <mat-hint *ngIf="(emailMatches === false) && email.value">No account matches this email</mat-hint>
        </mat-form-field>
      </mat-card-content>
    </mat-card>
      </div>
    <!-- buttons -->
    <div class="beside">
      <!-- Send button, should display a message "follow the link to reset password" -->
      <!-- [disabled]="!email.valid" -->
      <button mat-raised-button type="button"  color="primary" class="action-button" 
      [disabled]="(emailMatches === false) "
      (click)="passwordReset()">
        Send
      </button>
      <span>
        <button mat-raised-button type="button" (click)="backButton()" color="basic" class="action-button back">
          Back
        </button>
      </span>

    </div>
    <mat-divider></mat-divider>
 
    <form [formGroup]="passwordForm" class="division">
      <div class="column">
      <div class="inputs">
     
        <!-- Email input for log in -->
        <div class="passwordNew">
          <mat-form-field class="text_" appearance="outline">
            <mat-label>New Password min 8 characters</mat-label>
            <input matInput [formControl]="passwordNew" placeholder="New Password" minlength="8" id='passwordType2' required type="password"/>
            <mat-error *ngIf="password.errors?.noWhiteSpace">White spaces aren't allowed in password</mat-error>
            <mat-error *ngIf="password.invalid && !password.errors?.noWhiteSpace">Please enter a valid password
            </mat-error>
            <button mat-icon-button matSuffix type="button" *ngIf="visible2" (click)="toggleVisibilty2()" matTooltip="Show Password" >
              <mat-icon class="material-symbols-sharp" >visibility</mat-icon>
            </button>
            <button mat-icon-button matSuffix type="button" *ngIf="!visible2" (click)="toggleVisibilty_2()" matTooltip="Hide Password">
              <mat-icon class="material-symbols-sharp" >visibility_off</mat-icon>
            </button>
          </mat-form-field>
          
        </div>
<div class="passwordReset">
<mat-form-field class="text_ btnC" appearance="outline">
<mat-label>Reset Code</mat-label>
<input matInput [formControl]="secretCode" required placeholder="Paste your reset code "/>
<!-- <mat-hint>Copy from the email that was sent to you</mat-hint> -->
</mat-form-field>

</div>


  </div>

  <!-- Send button -->
  <div class="login">
    <button mat-raised-button type="button" [disabled]="!passwordForm.valid" color="primary"
      (click)="onResetPassword()" class="action-button">
      Save new password
    </button>
  </div>
</div>
</form>
  </form>

  </div>

</mat-tab>
  <!-- seperating line -->
  <!-- <div class="line">
    <mat-divider></mat-divider>
  </div> -->
  <!-- bottom -->

<!-- <mat-tab label="Notifications">
  <ng-template mat-tab-label>
    <mat-icon><span class="material-icons-two-tone">
      notifications
      </span></mat-icon>
    <div >Notifications</div>
  </ng-template>
  <div class="notifBox">
<div class="notifBox_">
  Need to reset your notifications?
  <button mat-icon-button (click)="resetNotifs()">
    <i class="far fa-bell"></i>
  </button>
</div>
(
<div class="notifBox_" *ngIf=" notif === String ">
  Turn off notifications
  <button mat-icon-button (click)="offNotifs()" [disabled]="notif" matTooltip="Notifications are off" >
  <i class="far fa-bell-slash"></i>
  </button>
</div>
<div class="notifBox_" *ngIf="(notif | typeof) !== 'string' ">
  Turn off notifications
  <button mat-icon-button (click)="offNotifs()" disabled>
  <i class="far fa-bell-slash"></i>
  </button>
</div>
<span>
  <button mat-raised-button type="button" (click)="backButton()" color="basic" class="action-button back">
    Back
  </button>
</span>
</div>
</mat-tab> -->

  <mat-tab label="Graduated">
    <ng-template mat-tab-label>
      <mat-icon><span class="material-icons-two-tone">
        school
        </span></mat-icon>
      <div >Graduated</div>
    </ng-template>
  <div class="title_grad">
    <div class="resetTitle">
    <i class="fas fa-graduation-cap" ></i>
    <div class="title_gradText">Have you graduated?</div>
    
    <div class="deletetext">
      Delete Account
     </div> 
     </div>
     <mat-card class="cardStyle">
      <mat-card-content>
<div class="inputs_del">

  <mat-form-field class="space_btm width">
    <mat-label *ngIf="(emailMatches2 === false)"> 
      <i matSuffix class="fas fa-user"></i>
         Academic Email</mat-label>
          <!-- Verified email -->
          <mat-label  *ngIf="(emailMatches2 === true)"> 
            <i matSuffix class="fas fa-user check_"></i>
               Academic Email</mat-label>
    <input class="text_" matInput type="email" placeholder="Academic Email" [formControl]="emailDel"
    (keyup)="doesEmailExist2($event)" required>
    <!-- <mat-error >Only U Of T emails are valid</mat-error> -->
    </mat-form-field>

    <mat-form-field class="width">
    <input class="text_" matInput placeholder="Password" [formControl]="passwordDel" id='passwordType' type="password" required>
    <button mat-icon-button matSuffix type="button" *ngIf="visible" (click)="toggleVisibilty()" matTooltip="Show Password" >
      <mat-icon class="material-symbols-sharp" >visibility</mat-icon>
    </button>
    <button mat-icon-button matSuffix type="button" *ngIf="!visible" (click)="toggleVisibilty_()" matTooltip="Hide Password">
      <mat-icon class="material-symbols-sharp" >visibility_off</mat-icon>
    </button>
    </mat-form-field>


  </div>
</mat-card-content>
</mat-card>

  <button mat-raised-button type="button"  matTooltip="We will email you your code"
   color="primary" class="action-button" [disabled]="(emailMatches == false)"
  (click)="getCode()">
    Email Deletion Code
  </button>




        <div class="column">


    <mat-form-field appearance="outline" class="typeDel">
<input matInput placeholder="Deletion Code" [formControl]="DelVerify" class="deleteText" style="text-align: center;" >
</mat-form-field>





<button class="color_del_btn" mat-raised-button  [disabled]="!(DelVerify.value)"  (click)="DeleteAccount()" matTooltip="This is not reversible" 
> Delete Account </button>
<span class="backBtn">
  <button mat-raised-button type="button" (click)="backButton()" color="basic" class="action-button back">
    Back
  </button>
</span>
        </div>
 
      </div>
</mat-tab>
</div>
</mat-tab-group>