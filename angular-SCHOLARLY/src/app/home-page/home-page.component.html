<!-- Main logo -->
<form  (ngSubmit)="onSubmit()" class="background" >
  <div fxLayout="row">
    <div fxLayout="column" fxLayoutAlign="center center" class="box">
      <img Src="../../assets/Pics/Skalarly jpeg 2 (hat & logo).png" class="pic">
      <div class="content" class="column">
        <span class="main-text ">
          <a>Enhance Your University Experience with Skalarly</a>
          <a class="university">U Of T</a>
        </span>
        <!-- Container holding the log in form -->
        <div class="log-in-box" fxLayout="column" fxLayoutAlign="center center">
          <div class="row_">
          <mat-form-field class="text-input">
            <mat-label> Academic Email</mat-label>
            <input matInput  [formControl]="email" required/>
            <!-- pattern=".+@mail.utoronto\.ca" -->
            <!-- <mat-hint>@mail.utoronto.ca</mat-hint> -->
            <span matSuffix class="hide"></span>
            <mat-error *ngIf="email.invalid">Please enter your academic email</mat-error>
            <!-- <button color="primary" mat-button matSuffix mat-icon-button aria-label="Clear" type="button"
              (click)="clearEmail()">
              <mat-icon>close</mat-icon>
            </button> -->
          </mat-form-field>
          <div class="fas fa-info-circle" style="font-size: large;" matTooltip="You must use one of these email extensions.
          @utoronto.ca, @mail.utoronto.ca, @rotman.utoronto.ca,
          @utsc.utoronto.ca, @uoftpharmacy.com, "></div>
        </div>


          <div class="row_">
          <mat-form-field class="text-input">
            <mat-label>Password</mat-label>
            <input matInput [formControl]="password" type="password" id='passwordType' required/>
            <mat-error *ngIf="password.invalid">Please enter a valid password</mat-error>
   
          </mat-form-field>

          
            <button mat-icon-button type="button" *ngIf="visible" (click)="toggleVisibilty()" matTooltip="Show Password" >
              <mat-icon class="material-symbols-sharp" >visibility</mat-icon>
            </button>
            <button mat-icon-button type="button" *ngIf="!visible" (click)="toggleVisibilty_()" matTooltip="Hide Password">
              <mat-icon class="material-symbols-sharp" >visibility_off</mat-icon>
            </button>
          

        </div>

          <!-- <div class="loginBtn"> -->
         
  <!-- pattern=".+@utoronto\.ca"  pattern=".+@mail.utoronto\.ca"  pattern=".+@skalarly\.com" pattern=".+@rotman.utoronto\.ca" -->
          <button mat-button type="button" mat-raised-button (click)="onSubmit()" [disabled]="!email.valid || !password.valid"
           
          color="primary" class="action-button top" *ngIf="!isLoading" routerLink="/search" >
            Log In
          </button>
    
          <!-- <mat-spinner  *ngIf="isLoading"></mat-spinner> -->

          <div  *ngIf="isLoading"  class=" top">

                
                  <div class="dot-pulse"></div>
          
          </div>
        <!-- </div> -->



          <button type="button" mat-button disableRipple class="forgot-password" routerLink="/retrieve-password">
            Forgot Password?
          </button>
          
          <p class="tag">Or</p>

          <!-- mat-raised-button -->
          <button mat-button type="button" mat-raised-button routerLink="/sign-up" color="primary" class="action-button">
            Create New Account
          </button>
       
        </div>
      </div>
    </div>
  </div>
</form>
