<!-- Copy and paste these scripts into the bottom of your <body> tag, but before you use any Firebase services: -->
<!-- <body>  -->
<!-- The core Firebase JS SDK is always required and must be listed first -->
<!-- <script src="/__/firebase/8.1.2/firebase-app.js"></script> -->

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<!-- <script src="/__/firebase/8.1.2/firebase-analytics.js"></script> -->

<!-- Initialize Firebase -->
<!-- <script src="/__/firebase/init.js"></script>
</body> -->

<form
  [formGroup]="searchForm"
  (ngSubmit)="onSubmit()"
  [ngClass]="
    ((isHomeScreen$ | async) ||
      (isVerifiedScreen$ | async) ||
      (isSignUpScreen$ | async) ||
      (isResetPScreen$ | async) ||
      (isRetrievePScreen$ | async)) === true
      ? 'background'
      : 'background_'
  "
>
  <ng-container *ngIf="minHeight && minwidth">
    <div class="root-container">
      <router-outlet>
      
         </router-outlet>
    </div>

    <div class="root-container">
      
      <ng-container
        *ngIf="
          ((isHomeScreen$ | async) ||
            (isSignUpScreen$ | async) ||
            (isVerifiedScreen$ | async) ||
            (isResetPScreen$ | async) ||
            (isRetrievePScreen$ | async)) === false
        "
      >
        <mat-toolbar class="header" id="nav-bar">
          <!-- <div *ngIf=[routerLink]="['/app-home-page']" routerLinkActive=nav-bar></div> -->
          <img
            class="toolbar-logo"
            Src="../assets/Pics/2022-06-15 (6) (1).png"
          />
          <span class="fill-space"></span>

          <!-- Small screens top nav -->

          <div class="small-icons">
            <div [ngClass]="searchPop === false ? 'search-box' : 'search-box_'">
              <button mat-icon-button type="button" (click)="search_()">
                <mat-icon
                  class="material-icons"
                  [ngClass]="
                    searchPop === false
                      ? 'search-box__icon'
                      : 'search-box__icon_'
                  "
                >
                  search</mat-icon
                >
              </button>
              <input
                placeholder="Search Fellow Scholars"
                class="standard"
                [ngClass]="
                  searchPop === false ? 'searchHide' : 'search-box__input,fas'
                "
              />
            </div>

            <button
              class="lowerSettings"
              mat-icon-button
              [matMenuTriggerFor]="settingsMenu"
              type="button"
            >
              <mat-icon class="settings">settings</mat-icon>
            </button>
          </div>

          <!-- Desktop -->
          <!--Icons autosize to sidenav  -->
          <div class="large-screen-icons">
            <!-- New -->
            <div class="search-box" >
              <button mat-icon-button type="button" (click)="search_user()">
                <span class="material-icons search-box__icon"> search </span>
              </button>
              <input
                matInput
                type="search"
                name="search-box"
                (keyup)="sendData($event)"
                class="search-box__input"
                placeholder="Search Fellow Skalars"
                [formControl]="search"
              />
                <div class="text" *ngIf="users.length < 1 && hasQuery ">Sorry no skalar found 
                  <!-- <i class="fas fa-user-secret"></i> -->
                </div>
                <div class="below_search" *ngIf="users.length >= 1">

                  <!-- But select works -->
                  <!-- Wrap a button around this and add "click to view" -->
                 
                  <mat-label class="place_holder" matTooltip="Click arrow to see Skalars">Skalar (s)</mat-label>
                  <mat-select  id="trigger" matTooltip="Click to see Skalars" >
                    <!-- <div class="fas fa-user-graduate space_"></div> -->
                    <div class="title">Fellow Skalars</div>
                      <!-- <div class="fas fa-user-graduate space"></div> -->
                    <mat-divider></mat-divider>
                    <div *ngFor="let user of users;let even = even; let odd = odd">
                      <!-- <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"> -->
                    <mat-option *ngIf="user.Creator !== userId" 
                     [ngClass]="{ even: even, odd: odd }" class="options"  (click)="navigateToPage(user.username)" id="userName" >
                        <!-- <div class="row"> -->
                      <div  class="row" >
                        <div class="profilePic">
                       <img class="profilePic_" src="{{user.ProfilePicPath}}"> 
                      </div> 
                      <div class="displayContents">
                      <div>{{user.name}}</div>
                        <div>@{{user.username}}</div>
                      </div>
                      </div>
                      <mat-divider *ngIf="user"></mat-divider>
                    </mat-option>
                  <!-- </mat-autocomplete> -->
                  </div>
                  </mat-select>
               
                  </div>
                
            </div>
            <!-- End -->
            <div class="icon-top">
              <div class="icon-btn-fit">
                <button
                  mat-icon-button
                  type="button"
                  (click)="postUnClickedBtn()"
                  (click)="messagesUnClickedBtn()"
                  routerLink="/search"
                  class="a_up"
                >
                  <span
                    class="material-icons-sharp"
                    [ngClass]="
                      router?.url === '/search' ? 'PublicOn' : 'public'
                    "
                  >
                    travel_explore
                  </span>
                </button>
              </div>

              <div class="icon-btn-fit">
                <button
                  mat-icon-button
                  type="button"
                  (click)="postUnClickedBtn()"
                  (click)="messagesUnClickedBtn()"
                  routerLink="/friends-activity"
                  class="a_up"
                >
                  <span
                    class="material-icons-sharp"
                    [ngClass]="
                      router?.url === '/friends-activity'
                        ? 'GroupsOn'
                        : 'groups'
                    "
                  >
                    groups
                  </span>
                </button>
              </div>
              <div class="icon-btn-fit">
                <!-- routerLink="/post-page" -->
                <button
                  mat-icon-button
                  type="button"
                  (click)="postClickedBtn()"
                  (click)="navigateToPost()"
                  (click)="messagesUnClickedBtn()"
                  class="a_up"
                >
                  <span
                    class="material-icons-sharp"
                    [ngClass]="postClicked == true ? 'PostOn' : 'post'"
                  >
                    add
                  </span>
                </button>
              </div>

              <div class="icon-btn-fit">
                <button
                  mat-icon-button
                  type="button"
                  (click)="postUnClickedBtn()"
                  (click)="messagesClickedBtn()"
                  (click)="navigateToMessages()"
                  class="a_up"
                >
                  <span
                    class="fas fa-comment-dots"
                    [ngClass]="
                      commentClicked == true ? 'MessageOn' : 'message'
                    "
                  >
                    <!-- chat -->
                  </span>
                  <!-- <i class="fal fa-comments" [ngClass]="router?.url === '/messages' 
                  ? 'MessageOn' : 'message' "></i> -->
                </button>
              </div>

              <div class="icon-btn-fit">
                <button
                  mat-icon-button
                  type="button"
                  (click)="messagesUnClickedBtn()"
                  (click)="postUnClickedBtn()"
                  routerLink="/profile"
                  class="a_up"
                >
                  <span
                    class="fas fa-graduation-cap"
                    [ngClass]="
                      router?.url === '/profile' ? 'ProfileOn' : 'profile'
                    "
                  >
        
                    <!-- school -->
                  </span>
                  <!-- <i class="fal fa-user-graduate" [ngClass]="router?.url === '/profile' 
              ? 'ProfileOn' : 'profile'"></i> -->
                </button>
              </div>
            </div>
            <button
              mat-icon-button
              [matMenuTriggerFor]="settingsMenu"
              type="button"
              class="b_up"
            >
              <mat-icon class="settings">settings</mat-icon>
            </button>
          </div>
        </mat-toolbar>
      </ng-container>

      <mat-menu #settingsMenu="matMenu">
        <button
          mat-menu-item
          type="button"
          routerLink="/retrieve-password"
          class="look-nice"
        >
          <span class="material-icons d_settings" style="color: burlywood">
            vpn_key
          </span>
          Account Settings
        </button>

        <button
          mat-menu-item
          type="button"
                      [matMenuTriggerFor]="settingsMenuCourses"
          class="look-nice"
        >
          <span class="material-icons d_settings" style="color: #9c6f24">
            lock_open
          </span>
          Edit Profile
        </button>
        <mat-menu #settingsMenuCourses="matMenu">
          <button
          mat-menu-item
          type="button"
                
          (click)="navigateToEditProfile()"
          class="look-nice"
        >
          <span class="material-icons d_settings" style="color: #9c6f24">
            lock_open
          </span>
          Edit Profile
        </button>
        <button
        mat-menu-item
        type="button"
        [matMenuTriggerFor]="settingsMenuComp1"
        class="look-nice"
      >
        <span class="material-icons d_settings" style="color: cadetblue">
     check
        </span>
         Completed Courses 1st Year
      </button>
<mat-menu #settingsMenuComp1="matMenu">
  <button
        mat-menu-item
        type="button"
        (click)="navigateToEditComp()"
        class="look-nice"
      >
        <span class="fas fa-leaf d_settings" style="color: saddlebrown">
        </span>
         Completed Courses 1st Year Fall
      </button>


      <button
      mat-menu-item
      type="button"
      (click)="navigateToEditCompW()"
      class="look-nice"
    >
      <span class="fas fa-snowflake d_settings" style="color: #88c4f9">
      </span>
       Completed Courses 1st Year Winter
    </button>
</mat-menu>



      <button
      mat-menu-item
      type="button"
      [matMenuTriggerFor]="settingsMenuComp2"
      class="look-nice"
    >
      <span class="material-icons d_settings" style="color: cadetblue">
   check
      </span>
       Completed Courses 2nd Year
    </button>  
    <mat-menu #settingsMenuComp2="matMenu">
      <button
            mat-menu-item
            type="button"
            (click)="navigateToEditComp2()"
            class="look-nice"
          >
            <span class="fas fa-leaf d_settings" style="color: saddlebrown">
            </span>
             Completed Courses 2nd Year Fall
          </button>
    
    
          <button
          mat-menu-item
          type="button"
          (click)="navigateToEditComp2W()"
          class="look-nice"
        >
          <span class="fas fa-snowflake d_settings" style="color: #88c4f9">
          </span>
           Completed Courses 2nd Year Winter
        </button>
    </mat-menu>
      
     <button
    mat-menu-item
    type="button"
    [matMenuTriggerFor]="settingsMenuComp3"
    class="look-nice"
  >
    <span class="material-icons d_settings" style="color: cadetblue">
 check
    </span>
     Completed Courses 3rd Year
  </button>   
  <mat-menu #settingsMenuComp3="matMenu">
    <button
          mat-menu-item
          type="button"
        
          (click)="navigateToEditComp3()"
          class="look-nice"
        >
          <span class="fas fa-leaf d_settings" style="color: saddlebrown">
          </span>
           Completed Courses 3rd Year Fall
        </button>
  
  
        <button
        mat-menu-item
        type="button"
        (click)="navigateToEditComp3W()"
        class="look-nice"
      >
        <span class="fas fa-snowflake d_settings" style="color: #88c4f9">
        </span>
         Completed Courses 3rd Year Winter
      </button>
  </mat-menu> 
   <button
  mat-menu-item
  type="button"
  [matMenuTriggerFor]="settingsMenuComp4"
  class="look-nice"
>
  <span class="material-icons d_settings" style="color: cadetblue">
check
  </span>
   Completed Courses 4th Year
</button>
<mat-menu #settingsMenuComp4="matMenu">
  <button
        mat-menu-item
        type="button"
        (click)="navigateToEditComp4()"
        class="look-nice"
      >
        <span class="fas fa-leaf d_settings" style="color: saddlebrown">

        </span>
         Completed Courses 4th Year Fall
      </button>


      <button
      mat-menu-item
      type="button"
      (click)="navigateToEditComp4W()"
      class="look-nice"
    >
      <span class="fas fa-snowflake d_settings" style="color: #88c4f9">
      </span>
       Completed Courses 4th Year Winter
    </button>
</mat-menu> 
<button
mat-menu-item
type="button"
[matMenuTriggerFor]="settingsMenuPur"
class="look-nice"
>
<span class="material-icons d_settings" style="color: #7474e6">
  format_list_numbered
</span>
Next Courses 
</button>
<mat-menu #settingsMenuPur="matMenu">
  <button
        mat-menu-item
        type="button"
        (click)="navigateToEditPur()"
        class="look-nice"
      >
        <span class="fas fa-leaf d_settings" style="color: saddlebrown">
        </span>
        Next Courses Fall
      </button>


      <button
      mat-menu-item
      type="button"
      (click)="navigateToEditPurW()"
      class="look-nice"
    >
      <span class="fas fa-snowflake d_settings" style="color: #88c4f9">
      </span>
      Next Courses Winter
    </button>
    <button
    mat-menu-item
    type="button"
    (click)="navigateToEditPurSp()"
    class="look-nice"
  >
    <span class="fas fa-seedling d_settings" style="color: cadetblue">
    </span>
    Next Courses Spring
  </button>


  <button
  mat-menu-item
  type="button"
  (click)="navigateToEditPurSu()"
  class="look-nice"
>
  <span class="fas fa-sun d_settings" style="color: #d89163">
  </span>
  Next Courses Summer
</button>
</mat-menu>
</mat-menu>
        <button
          mat-menu-item
          type="button"
          (click)="postUnClickedBtn()"
          (click)="onLogout()"
          (click)="messagesUnClickedBtn()"
          class="look-nice"
        >
          <span class="material-icons d_settings" style="color: darkcyan">
            exit_to_app </span
          >Log Out
        </button>
        <!-- TODO: wire up log out button -->
      </mat-menu>

      <div class="main-content">
        <router-outlet></router-outlet>
      </div>

      <!-- Bottom nav bar for small screens -->

      <ng-container
        *ngIf="
          ((isHomeScreen$ | async) ||
            (isSignUpScreen$ | async) ||
            (isResetPScreen$ | async) ||
            (isVerifiedScreen$ | async) ||
            (isRetrievePScreen$ | async)) === false
        "
      >
        <mat-toolbar class="lower">
          <div class="icon-top">
            <div class="icon-btn-fit">
              <button
                mat-icon-button
                type="button"
                routerLink="/search"
                class="a_up"
              >
                <mat-icon
                  [ngClass]="
                    router?.url === '/search' ? 'PublicOnM' : 'publicM'
                  "
                  >public</mat-icon
                >
              </button>
            </div>
            <div class="icon-btn-fit">
              <button
                mat-icon-button
                type="button"
                routerLink="/friends-activity"
                class="a_up"
              >
                <mat-icon
                  [ngClass]="
                    router?.url === '/friends-activity'
                      ? 'GroupsOnM'
                      : 'groupsM'
                  "
                  >groups</mat-icon
                >
              </button>
            </div>
            <div class="icon-btn-fit">
              <button
                mat-icon-button
                type="button"
                routerLink="/post-page"
                class="a_up"
              >
                <mat-icon
                  [ngClass]="router?.url === '/post-page' ? 'PostOnM' : 'postM'"
                  >add_circle</mat-icon
                >
              </button>
            </div>

            <div class="icon-btn-fit">
              <button
                mat-icon-button
                type="button"
                routerLink="/messages"
                class="a_up"
              >
                <i
                  [ngClass]="
                    router?.url === '/messages' ? 'MessageOnM' : 'messageM'
                  "
                  class="far fa-comment-dots"
                ></i>
              </button>
            </div>

            <div class="icon-btn-fit">
              <button
                mat-icon-button
                type="button"
                routerLink="/profile"
                class="a_up"
              >
                <mat-icon
                  [ngClass]="
                    router?.url === '/profile' ? 'ProfileOnM' : 'profileM'
                  "
                  >account_circle</mat-icon
                >
              </button>
            </div>
          </div>
        </mat-toolbar>
      </ng-container>
    </div>

    <ng-container *ngIf="(isHomeScreen$ | async) === false">
      <div class="main-content"></div>
    </ng-container>
  </ng-container>

  <ng-container *ngIf="!minHeight || !minwidth" class="allBox">
    <div class="Text1box">
      <mat-card-title class="Text1_">
      <img Src="../../assets/Pics/Skalarly jpeg 2 (hat & logo).png" class="pic">

      <div class="centerIcon">
        Coming Soon!
        <span class="material-icons-outlined icon"> self_improvement </span>
      </div>

        <div class="Text1">
          Currently display isn't supported on this screen size. For now please
          try again on a larger window.
        </div>
      </mat-card-title>
    </div>
  </ng-container>
</form>
